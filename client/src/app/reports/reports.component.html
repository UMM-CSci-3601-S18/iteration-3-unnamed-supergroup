<!-- Don't display any data unless user is signed in -->
<div *ngIf="isUserLoggedIN(); else promptLogin">

    <div layout-gt-sm="row" class="backLayer">
        <div flex-gt-sm="80" flex-offset-gt-sm="10">

            <mat-card>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>
                <mat-card-title id="charts-title">Charts Report</mat-card-title>
                <mat-divider></mat-divider>

                <div layout="row" layout-align="center">
                    <p>
                        <mat-form-field>
                            <input matInput [(ngModel)]="startDate" (oninput)="buildChart()"
                                   [matDatepicker]="startdp" placeholder="Start Date" disabled>
                            <mat-datepicker-toggle matSuffix [for]="startdp"></mat-datepicker-toggle>
                            <mat-datepicker #startdp disabled="false"></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <input matInput [(ngModel)]="endDate" (onchange)="buildChart()"
                                   [matDatepicker]="enddp" placeholder="End Date" disabled>
                            <mat-datepicker-toggle matSuffix [for]="enddp"></mat-datepicker-toggle>
                            <mat-datepicker #enddp disabled="false"></mat-datepicker>
                        </mat-form-field>
                        <button mat-raised-button id="submit" (click)="buildChart()" type="button">Submit</button>
                    </p>
                </div>
                <a name="{{filterEmojis(startDate, endDate).length}}"></a>
                <mat-card-content>

                    <div id="chartdiv" layout="row" layout-align="center">
                        <canvas id="myChart" width="500" height="500"></canvas>
                    </div>

                </mat-card-content>
            </mat-card>
        </div>
    </div>



</div>

<!-- What to display if the user isn't logged in -->
<ng-template #promptLogin>
    <img class="loginEmoji" src="https://image.flaticon.com/icons/svg/260/260205.svg" alt="Sunshine Journal">
    <p class="loginEmojiText">Please sign in with your google account to access Sunshine Journal</p>
</ng-template>

